webpackJsonp([13],{"8D0f":function(t,e){},Yi7b:function(t,e){},e3u8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("4YfN"),a=i.n(s),c=i("2bvH"),n={data:function(){return{songSheets:[],openCreatedList:!0,openCollection:!0,activeIndex:0,createActive:!0}},watch:{userDiyPlaylist:function(t){t.length>0&&void 0===this.activeIndex&&(this.activeIndex=0,this.createActive=!0,this.doRouter())},$route:function(t){"my"===t.name&&this.doRouter()}},methods:a()({},Object(c.d)("userDiyPlaylist",["showCreateDiyListPanel","removeDiyPlaylist"]),Object(c.d)("collectionList",["removeCollectByIndex"]),{toggleOpenCreatedList:function(){this.openCreatedList=!this.openCreatedList},toggleOpenCollection:function(){this.openCollection=!this.openCollection},showPanel:function(){this.showCreateDiyListPanel()},active:function(t,e){this.createActive="create"==t,this.activeIndex=e,this.doRouter()},doRouter:function(){if(void 0==this.activeIndex)this.$router.push({name:"myMusicBlank"});else{var t=void 0;if(this.createActive)t={name:this.userDiyPlaylist[this.activeIndex].name};else{if(this.activeIndex<0||0===this.collectionList.length)return;t={id:this.collectionList[this.activeIndex].id}}this.$router.push({name:"myMusicPlaylist",query:t})}},edit:function(t){this.$router.push({name:"myMusicEditor",query:{name:this.userDiyPlaylist[t].name}})},del:function(t,e){"create"==t?this.removeDiyPlaylist(e):this.removeCollectByIndex(e),"create"==t&&this.createActive?e<=this.activeIndex&&(e==this.activeIndex?(this.userDiyPlaylist.length<=this.activeIndex&&this.activeIndex--,this.activeIndex<0?this.switch():this.doRouter()):this.activeIndex--):"collect"!=t||this.createActive||e<=this.activeIndex&&(e==this.activeIndex?(this.collectionList.length<=this.activeIndex&&this.activeIndex--,this.activeIndex<0?this.switch():this.doRouter()):this.activeIndex--)},switch:function(){this.collectionList.length||this.userDiyPlaylist.length?(this.activeIndex=0,this.createActive=!this.createActive):this.activeIndex=void 0,this.doRouter()}}),computed:a()({},Object(c.e)("userDiyPlaylist",["userDiyPlaylist","userDiyPlaylistNameArr"]),Object(c.e)("collectionList",["collectionList","collectionListIdArr"])),created:function(){var t=this.$route.query;if(t.name||t.id)if(t.name){var e=t.name;this.createActive=!0,this.activeIndex=this.userDiyPlaylistNameArr.indexOf(e)}else{var i=t.id;this.createActive=!1,this.activeIndex=this.collectionListIdArr.indexOf(Number(i))}else this.userDiyPlaylist.length||this.collectionList.length?!this.userDiyPlaylist.length&&this.collectionList.length&&(this.createActive=!1):this.activeIndex=void 0;this.doRouter()},beforeUpdate:function(){this.doRouter()}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"song-sheet-list"}},[t.userDiyPlaylist?i("div",{staticClass:"created-list",class:{fold:!t.openCreatedList}},[i("div",{staticClass:"head clearfix"},[i("a",{staticClass:"title",on:{click:t.toggleOpenCreatedList}},[i("i",{staticClass:"tri"}),t._v(" "),i("span",[t._v("创建的歌单("+t._s(t.userDiyPlaylist.length)+")")])]),t._v(" "),i("a",{staticClass:"new",on:{click:t.showPanel}},[i("span",[t._v("新建")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.openCreatedList,expression:"openCreatedList"}],staticClass:"list-container"},[i("ul",{staticClass:"list"},t._l(t.userDiyPlaylist,function(e,s){return i("li",{key:e.name,staticClass:"list-item clearfix",class:{active:t.createActive&&s==t.activeIndex},on:{click:function(e){return t.active("create",s)}}},[i("div",{staticClass:"img"},[i("img",{attrs:{src:e.coverImgUrl}})]),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"counts"},[t._v(t._s(e.tracks.length)+"首")])]),t._v(" "),i("div",{staticClass:"operate"},[i("a",{staticClass:"edit",on:{click:function(e){return e.stopPropagation(),t.edit(s)}}}),t._v(" "),i("a",{staticClass:"del",on:{click:function(e){return e.stopPropagation(),t.del("create",s)}}})])])}),0)]),t._v(" "),0==t.userDiyPlaylist.length?i("div",{staticClass:"empty"},[i("p",[t._v("当前还没有歌单，可以点击上方新建按钮创建哦~~")])]):t._e()]):t._e(),t._v(" "),t.collectionList&&t.collectionList.length?i("div",{staticClass:"collect-list"},[i("div",{staticClass:"head clearfix"},[i("a",{staticClass:"title",on:{click:t.toggleOpenCollection}},[i("i",{staticClass:"tri"}),t._v(" "),i("span",[t._v("收藏的歌单("+t._s(t.collectionList.length)+")")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.openCollection,expression:"openCollection"}],staticClass:"list-container"},[i("ul",{staticClass:"list"},t._l(t.collectionList,function(e,s){return i("li",{key:e.id,staticClass:"list-item clearfix",class:{active:!t.createActive&&s==t.activeIndex},on:{click:function(e){return t.active("collect",s)}}},[i("div",{staticClass:"img"},[i("img",{attrs:{src:e.coverImgUrl}})]),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"counts"},[t._v(t._s(e.counts)+"首")])]),t._v(" "),i("div",{staticClass:"operate"},[i("a",{staticClass:"del",on:{click:function(e){return e.stopPropagation(),t.del("collect",s)}}})])])}),0)])]):t._e()])},staticRenderFns:[]};var o={data:function(){return{}},components:{SongSheetList:i("C7Lr")(n,l,!1,function(t){i("Yi7b")},"data-v-26868ffc",null).exports}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"my-music"}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"left"},[e("song-sheet-list")],1),this._v(" "),e("div",{staticClass:"right"},[e("router-view")],1)])])},staticRenderFns:[]};var v=i("C7Lr")(o,r,!1,function(t){i("8D0f")},"data-v-e526dac0",null).exports;e.default=v}});
//# sourceMappingURL=13.7fc8559bc508e6568962.js.map