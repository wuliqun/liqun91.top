webpackJsonp([4],{"7CLC":function(t,s){},NPv3:function(t,s){},Wo13:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("i84Q"),l=a("4YfN"),e=a.n(l),n=a("lrMo"),r=a("9e8W"),c=a("2bvH"),o={methods:e()({},Object(c.d)("playlist",["insertIntoPlaylist","pushIntoPlaylist"]),Object(c.d)("collectionList",["addCollect"]),{play:function(){this.insertIntoPlaylist(this.playlist.tracks),this.$message.playerMessage("已开始播放")},addToList:function(){this.pushIntoPlaylist(this.playlist.tracks),this.$message.playerMessage("已添加到播放列表")},collect:function(){this.isPlaylistCollected(this.playlist.id)?this.$message.warning("您已收藏过该歌单"):(this.addCollect(this.playlist),this.$message.success("收藏成功"))}}),computed:e()({},Object(c.c)("collectionList",["isPlaylistCollected"])),props:{playlist:Object},components:{CollectButton:n.a,CommentButton:n.b,PlayAddButton:n.d,DownloadButton:n.c,ShareButton:n.e,DetailTag:r.a},filters:{formatTime:function(t){var s,a=(s=new Date(t)).getFullYear(),i=s.getMonth()+1,l=s.getDate();return a+"-"+(i>9?""+i:"0"+i)+"-"+(s=l>9?""+l:"0"+l)},count2str:function(t){if(t<1e4)return""+t;var s=(t/1e4).toFixed(1)+"万";return s.length>=6&&(s=s.split(".")[0]+"万"),s}}},d={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"playlist-head"},[a("div",{staticClass:"title-wrapper clearfix"},[a("div",{staticClass:"tag-wrapper"},[a("detail-tag",{attrs:{type:"playlist"}})],1),t._v(" "),a("h2",{staticClass:"title f-thide"},[t._v(t._s(t.playlist.name))])]),t._v(" "),a("div",{staticClass:"user clearfix"},[a("router-link",{staticClass:"avatar",attrs:{to:{name:"userHome",query:{id:t.playlist.creator.userId}}}},[a("img",{attrs:{src:t.playlist.creator.avatarUrl,alt:""}})]),t._v(" "),a("router-link",{staticClass:"name f-thide",attrs:{to:{name:"userHome",query:{id:t.playlist.creator.userId}},title:t.playlist.creator.nickname}},[t._v("\n            "+t._s(t.playlist.creator.nickname)+"\n        ")]),t._v(" "),a("div",{staticClass:"time"},[t._v("\n            "+t._s(t._f("formatTime")(t.playlist.createTime))+"创建\n        ")])],1),t._v(" "),a("div",{staticClass:"operate clearfix"},[a("div",{staticClass:"btn-wrapper"},[a("play-add-button",{on:{play:t.play,add:t.addToList}})],1),t._v(" "),a("div",{staticClass:"btn-wrapper"},[a("collect-button",{on:{click:t.collect}},[t._v("\n                ("+t._s(t._f("count2str")(t.playlist.subscribedCount))+")\n            ")])],1),t._v(" "),a("div",{staticClass:"btn-wrapper"},[a("share-button",[t._v("\n                ("+t._s(t._f("count2str")(t.playlist.shareCount))+")\n            ")])],1),t._v(" "),a("div",{staticClass:"btn-wrapper"},[a("download-button",[t._v("\n                下载\n            ")])],1),t._v(" "),a("div",{staticClass:"btn-wrapper"},[a("comment-button",[t._v("\n                ("+t._s(t._f("count2str")(t.playlist.commentCount))+")\n            ")])],1)]),t._v(" "),a("div",{staticClass:"tags clearfix"},[a("span",{staticClass:"label"},[t._v("标签：")]),t._v(" "),t._l(t.playlist.tags,function(s){return a("router-link",{key:s,staticClass:"tag",attrs:{to:{name:"discoverPlaylist",query:{cat:s,order:"hot"}}}},[t._v(t._s(s))])})],2),t._v(" "),a("div",{staticClass:"desc"},[t._v("\n        介绍："+t._s(t.playlist.description)+"\n    ")])])},staticRenderFns:[]};var u=a("C7Lr")(o,d,!1,function(t){a("tB3W")},"data-v-91315edc",null).exports,v=a("g2dk"),p=a("herB"),y=a("NWGz"),_=a("VWFH"),m={props:{users:{type:Array,default:function(){return[]}}},components:{SmallSectionTitle:_.a}},f={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"like"},[s("small-section-title",{attrs:{title:"喜欢这个歌单的人"}}),this._v(" "),s("div",{staticClass:"user-list clearfix"},this._l(this.users,function(t){return s("router-link",{key:t.userId,staticClass:"user-item",attrs:{to:{name:"userHome",query:{id:t.userId}},title:t.nickname}},[s("img",{attrs:{src:t.avatarUrl,alt:""}})])}),1)],1)},staticRenderFns:[]};var h=a("C7Lr")(m,f,!1,function(t){a("NPv3")},"data-v-01ace6f2",null).exports,C={props:{playlists:{type:Array,default:function(){return[]}}},components:{SmallSectionTitle:_.a}},g={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"similiar"},[s("small-section-title",{attrs:{title:"相似歌单"}}),this._v(" "),s("div",{staticClass:"playlist clearfix"},this._l(this.playlists,function(t){return s("router-link",{key:t.id,staticClass:"playlist-item",attrs:{to:{name:"playlist",query:{id:t.id}},title:t.name}},[s("img",{attrs:{src:t.coverUrl,alt:""}})])}),1)],1)},staticRenderFns:[]};var b=a("C7Lr")(C,g,!1,function(t){a("kzLj")},"data-v-414f93c0",null).exports,k={data:function(){return{playlist:null,id:null,subscribers:null,similiarPlaylists:null}},methods:{initData:function(){var t=this,s=this.id;Object(i.p)(s).then(function(s){t.playlist=s.data.playlist,t.subscribers=s.data.playlist.subscribers}),Object(i.t)(s).then(function(s){t.similiarPlaylist=s.data.playlists})}},watch:{"$route.query.id":function(t){t!==this.id&&(this.id=t,this.initData())}},created:function(){var t=this.$route.query.id;t?(this.id=t,this.initData()):this.$router.redirectTo({name:"index"})},components:{PlaylistHeader:u,PlaylistContent:v.a,AppDownload:p.a,Comment:y.a,LikeThis:h,SimiliarPlaylist:b}},P={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"playlist-detail detail-content"},[a("div",{staticClass:"detail-wrapper clearfix"},[t.playlist?a("div",{staticClass:"detail-left"},[a("div",{staticClass:"head clearfix"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.playlist.coverImgUrl,alt:""}})]),t._v(" "),a("div",{staticClass:"head-wrap"},[a("playlist-header",{attrs:{playlist:t.playlist}})],1)]),t._v(" "),a("div",{staticClass:"content-wrapper"},[a("playlist-content",{attrs:{playlist:t.playlist}})],1),t._v(" "),t.playlist?a("div",{staticClass:"comment-wrapper"},[a("comment",{attrs:{type:"playlist",id:t.playlist.id}})],1):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"detail-right"},[t.subscribers&&t.subscribers.length?a("div",{staticClass:"right-sec-wrapper"},[a("like-this",{attrs:{users:t.subscribers}})],1):t._e(),t._v(" "),t.similiarPlaylists&&t.similiarPlaylists.length?a("div",{staticClass:"right-sec-wrapper"},[a("similiar-playlist",{attrs:{playlists:t.similiarPlaylists}})],1):t._e(),t._v(" "),a("div",{staticClass:"right-sec-wrapper"},[a("app-download")],1)])])])},staticRenderFns:[]};var w=a("C7Lr")(k,P,!1,function(t){a("7CLC")},"data-v-6e666d12",null).exports;s.default=w},g2dk:function(t,s,a){"use strict";var i=a("4YfN"),l=a.n(i),e=a("2bvH"),n={data:function(){return{}},computed:l()({},Object(e.e)("playlist",["playingId"])),methods:l()({},Object(e.d)("userDiyPlaylist",["setSongWaitToAdd","showAddDiyListPanel"]),Object(e.d)("playlist",["pushIntoPlaylist","insertIntoPlaylist"]),{addSong:function(t){this.setSongWaitToAdd(t),this.showAddDiyListPanel()},delTrack:function(t){this.$emit("delTrack",t)},play:function(t){this.insertIntoPlaylist(this.playlist.tracks[t]),this.$message.playerMessage("已开始播放")},addToList:function(t){this.pushIntoPlaylist(this.playlist.tracks[t]),this.$message.playerMessage("已添加至播放列表")}}),filters:{time2str:function(t){var s=(t=Math.round(t/1e3))%60,a=(t=parseInt(t/60))%60,i=parseInt(t/60),l="";return i>0&&(l+=i>9?i:"0"+i,l+=":"),l+=a>9?a:"0"+a,l+=":",l+=s>9?s:"0"+s},joinName:function(t){return t.map(function(t){return t.name}).join("/")}},props:{playlist:Object,isCreated:{type:Boolean,default:!1}}},r={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.playlist?a("div",{attrs:{id:"song-list"}},[a("div",{staticClass:"header clearfix"},[a("h2",[t._v("歌曲列表")]),t._v(" "),a("p",{staticClass:"track-count"},[t._v(t._s(t.playlist.tracks.length)+"首歌")]),t._v(" "),a("p",{staticClass:"play-count"},[t._v("\n\t\t\t播放："),a("em",[t._v(t._s(t.playlist.playCount))]),t._v("次\n\t\t")])]),t._v(" "),a("ul",{staticClass:"song-list"},[t._m(0),t._v(" "),t._l(t.playlist.tracks,function(s,i){return a("li",{key:s.id},[a("div",{staticClass:"col col-0"},[a("span",[t._v(t._s(i+1))])]),t._v(" "),a("div",{staticClass:"col col-1 clearfix"},[a("a",{staticClass:"icon play",class:{playing:s.id==t.playingId},attrs:{title:"播放"},on:{click:function(s){return t.play(i)}}})]),t._v(" "),a("div",{staticClass:"col col-2 f-thide"},[a("router-link",{attrs:{to:{name:"song",query:{id:s.id}}}},[t._v("\n\t\t\t\t\t"+t._s(s.name)+"\n\t\t\t\t")]),t._v(" "),s.mv?a("router-link",{staticClass:"mv-icon",attrs:{to:{name:"mv",query:{id:s.mv}},title:"播放MV"}}):t._e()],1),t._v(" "),a("div",{staticClass:"col col-3"},[a("span",[t._v(t._s(t._f("time2str")(s.dt)))]),t._v(" "),a("div",{staticClass:"operate clearfix"},[a("a",{staticClass:"icon add",attrs:{title:"添加到播放列表"},on:{click:function(s){return t.addToList(i)}}}),t._v(" "),a("a",{staticClass:"icon collect",attrs:{title:"收藏"},on:{click:function(a){return t.addSong(s)}}}),t._v(" "),a("a",{staticClass:"icon share",attrs:{title:"分享"}}),t._v(" "),a("a",{staticClass:"icon download",attrs:{title:"下载"}}),t._v(" "),t.isCreated?a("a",{staticClass:"icon del",attrs:{title:"删除"},on:{click:function(s){return t.delTrack(i)}}}):t._e()])]),t._v(" "),a("div",{staticClass:"col col-4 f-thide",attrs:{title:t._f("joinName")(s.ar)}},[t._l(s.ar,function(s){return[a("router-link",{key:s.id,attrs:{to:{name:"artist",query:{id:s.id}}}},[t._v("\n\t\t\t\t\t\t"+t._s(s.name)+"\n\t\t\t\t\t")]),t._v(" "),a("span",{key:s.id+"s",staticClass:"sep"},[t._v("/")])]})],2),t._v(" "),a("div",{staticClass:"col col-5 f-thide"},[a("router-link",{attrs:{to:{name:"album",query:{id:s.al.id}}}},[t._v("\n\t\t\t\t\t"+t._s(s.al.name)+"\n\t\t\t\t")])],1)])})],2)]):t._e()},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"title"},[a("div",{staticClass:"col col-0"}),t._v(" "),a("div",{staticClass:"col col-1"}),t._v(" "),a("div",{staticClass:"col col-2 f-thide"},[t._v("歌曲标题")]),t._v(" "),a("div",{staticClass:"col col-3"},[t._v("时长")]),t._v(" "),a("div",{staticClass:"col col-4 f-thide"},[t._v("歌手")]),t._v(" "),a("div",{staticClass:"col col-5 f-thide"},[t._v("专辑")])])}]};var c=a("C7Lr")(n,r,!1,function(t){a("gbgZ")},"data-v-d49db326",null);s.a=c.exports},gbgZ:function(t,s){},kzLj:function(t,s){},tB3W:function(t,s){}});
//# sourceMappingURL=4.bf9ed6bf89eafea26650.js.map